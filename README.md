# 1.消息队列

## 1.1 MQ的相关概念

### 1.1.1 什么是MQ

​	MQ(message queue)，消息队列，队列就是队列，先进先出，在高并发的场景下，很多东西不能马上处理完，但得告诉用户，你已经处理完了，显得你很快，然后将没处理的东西放到MQ中，让它慢慢运行处理。

### 1.1.2 为什么要用MQ 

1. 流量消峰
2. 应用解耦
3. 异步处理

### 1.1.3 MQ的分类

#### 1.ActiveMQ

​	优点：单机吞吐量万级，时效性ms级，可用性高，基于主从架构实现高可用，消息可靠性较低的概率丢失数据

​	缺点：维护越来越少，高吞吐量场景较少使用

#### 2.Kafka

​	优点：大数据使用的多，性能优越，百万级吞吐量，可用性高

​	缺点：使用短轮询方式，实时性取决于轮询间隔时间，消费失败不支持重试，一台代理宕机后，会产生消息乱序

#### 3.RcoketMQ

​	RcoktMQ出自阿里巴巴的开源产品，参考了kafka,做了一些改进，阿里巴巴广泛应用在订单，交易，充值，流计算，消息推送等场景

​	优点：单机吞吐量十万级别，消息可以做到0丢失，支持10亿级别的消息堆积

​	缺点：支持的客户端语言不多

#### 4.RabbitMQ

​	当前主流的消息中间件之一

​	优点： 并发性高，吞吐量万级，支持多语言，社区活跃度高

​	缺点： 商业版需要收费，学习成本高

### 1.1.4 MQ的选择

#### 1.Kafka

大数据，大型公司，日记采集可用

#### 3.RcoketMQ

金融互联网

#### 4.RabbitMQ

中小型公司首选

## 1.2 RabbitMQ

### 1.2.1 四大核心概念

1. 生产者
2. 交换机
3. 队列
4. 消费者
